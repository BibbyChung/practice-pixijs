import{B as C,a as b,t as u,s as d}from"./index-YpI8y5Bw.js";class X extends C{getQuery(){return this._ge.miniplexECS.without("createComponent").with("moveComponent").onEntityAdded}execute(){this.getQuery().subscribe(o=>{const e=o.pixiElem;if(e){const n=b().pipe(u(s=>{var i;if(((i=o.destroyComponent)==null?void 0:i.isDestroy)??!1){d(n);return}const t=e.getBounds(),m=e.position.x+t.width/2,c=e.position.x-t.width/2,p=e.position.y+t.height/2,v=e.position.y-t.height/2,a=this._ge.screenWitdh,h=this._ge.screenHeight;c<0&&(o.moveComponent.velocityX=Math.abs(o.moveComponent.velocityX)),m>a&&(o.moveComponent.velocityX=Math.abs(o.moveComponent.velocityX)*-1),v<0&&(o.moveComponent.velocityY=Math.abs(o.moveComponent.velocityY)),p>h&&(o.moveComponent.velocityY=Math.abs(o.moveComponent.velocityY)*-1);const r=e.position.x+o.moveComponent.velocityX*s.deltaTime,l=e.position.y+o.moveComponent.velocityY*s.deltaTime;e.position.set(r,l)})).subscribe()}})}}export{X as MoveSystem};
