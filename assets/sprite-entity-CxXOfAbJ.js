var d=Object.defineProperty;var u=(i,t,e)=>t in i?d(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var p=(i,t,e)=>(u(i,typeof t!="symbol"?t+"":t,e),e);import{f as o,l,g as y,s as E,t as w,b,C as f,P as A,B as v,S,c as B,K as a}from"./index-AEJg04UX.js";import{getGameContainerClickEvent as X}from"./container-entity-CCa9mUyN.js";class Y extends o{constructor(){super(...arguments);p(this,"pixiApp",l())}get left(){return 0}get right(){return this.pixiApp.app.screen.width}get top(){return 0}get bottom(){return this.pixiApp.app.screen.height}}class k extends o{constructor(){super(...arguments);p(this,"isCollision",!1)}get bounds(){return this.entity.pixiElem.getBounds(!1)}}class P extends o{get pixiElem(){return this.entity.pixiElem}get x(){return this.pixiElem.position.x}set x(t){this.pixiElem.position.x=t}get y(){return this.pixiElem.position.y}set y(t){this.pixiElem.position.y=t}}class $ extends o{get pixiElem(){return this.entity.pixiElem}get rotation(){return this.pixiElem.rotation}set rotation(t){this.pixiElem.rotation=t}}class I extends o{constructor(e,s,r,c){super(e);p(this,"speed",{x:0,y:0});this.entity=e,this.velocity=s,this.targetX=r,this.targetY=c}}class K extends v{constructor(t=1,e=0,s=0){super(),this.scale=t,this.positionX=e,this.positionY=s}create(){const t=this.pixiApp.getGameScreenAssets(),e=S.from(t["/game/game-screen/ghost"]);this.pixiElem=e,e.position.set(this.positionX,this.positionY),e.anchor.set(.5),e.scale.set(this.scale),e.addEventListener("pointertap",this.clickIt.bind(this)),this.pixiElem=e}clickIt(t){const e=this.pixiElem.getBounds();console.log(`x:${e.x}, y:${e.y}, width:${e.width}, heigh:${e.height}`)}}const m=y(),j=()=>m.next(!0);m.pipe(E(()=>X()),w(i=>{Array.from(Array(3).keys()).forEach(t=>{R(i)})})).subscribe();const R=i=>{const t=l(),e=B(),s=t.getCanvasClientX(i.client.x),r=t.getCanvasClientY(i.client.y),c=a(-1e4,1e4),h=a(-1e4,1e4),x=a(1,3)/10,g=a(20,80)/10,n=new K(x,s,r),C=b({createComponent:new f(n),placementComponent:new A(n,"game",10),positionComponent:new P(n),velocityComponent:new I(n,g,c,h),collisionComponent:new k(n),boundsCollisionComponent:new Y(n),rotationComponent:new $(n)});e.addEntityWithComponent(n,C)};export{j as init};
